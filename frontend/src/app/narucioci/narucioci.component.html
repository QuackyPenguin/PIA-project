<header>Narucioci</header>

<div id="glavni">
    <h3><b>Pregled svih narucilaca</b></h3>

    <table border="1" id="redovi" class="sirok">
        <th>PIB</th>
        <th>Naziv</th>
        <th>Dani</th>
        <th>Rabat</th>
        <tr *ngFor="let n of pred.narucioci">
            <td>{{n.PIB}}</td>
            <td>{{n.naziv}}</td>
            <td>{{n.broj_dana}}</td>
            <td>{{n.procenat_rabata}}%</td>
        </tr>
    </table>

    <br>
    <hr>
    <br>

    <h3><b>Dodavanje narucilaca</b></h3>
    <mat-tab-group>
        <mat-tab label="Dodavanje putem unosa svih podataka">
            <table>
                <tr>
                    <td>Ime i prezime odgovornog lica: </td>
                    <td>
                        <input type="text" name="ime_prezime" [(ngModel)]="odgovorno_lice" required>
                    </td>
                </tr>
                <tr>
                    <td>Korisnicko ime: </td>
                    <td>
                        <input type="text" name="kor_ime" [(ngModel)]="kor_ime" required>
                    </td>
                </tr>
                <tr>
                    <td>Lozinka: </td>
                    <td>
                        <input type="password" name="lozinka" [(ngModel)]="lozinka" required>

                    </td>
                </tr>
                <tr>
                    <td>Ponovi lozinku: </td>
                    <td>
                        <input type="password" name="ponovljena" [(ngModel)]="ponovljenaLozinka" required
                            (keyup)="proveraPonovljeneLozinke()">
                    </td>
                    <span id="proveraLozinkePoruka"></span>
                </tr>
                <tr>
                    <td>Telefon: </td>
                    <td>
                        <input type="tel" name="telefon" [(ngModel)]="telefon" required>
                    </td>
                </tr>
                <tr>
                    <td>Imejl: </td>
                    <td>
                        <input type="email" name="imejl" [(ngModel)]="imejl" required>
                    </td>
                </tr>
                <tr>
                    <td>Naziv: </td>
                    <td>
                        <input type="text" name="naziv" [(ngModel)]="naziv" required>
                    </td>
                </tr>
                <tr>
                    <td>Drzava: </td>
                    <td>
                        <input type="text" name="drzava" [(ngModel)]="drzava" required>
                    </td>
                    <td>Grad: </td>
                    <td>
                        <input type="text" name="grad" [(ngModel)]="grad" required>
                    </td>
                    <td>Postanski broj: </td>
                    <td>
                        <input type="number" name="postanski_broj" [(ngModel)]="postanski_broj" required>
                    </td>
                </tr>
                <tr>
                    <td>Ulica: </td>
                    <td>
                        <input type="text" name="ulica" [(ngModel)]="ulica" required>
                    </td>
                    <td>Broj: </td>
                    <td>
                        <input type="text" name="broj" [(ngModel)]="broj" required>
                    </td>
                </tr>
                <tr>
                    <td>PIB: </td>
                    <td>
                        <input type="text" name="pib" [(ngModel)]="pib" required>
                    </td>
                </tr>
                <tr>
                    <td>Maticni broj: </td>
                    <td>
                        <input type="number" name="maticni" [(ngModel)]="maticni" required>
                    </td>
                </tr>
                <br>
                <tr></tr>
                <tr>
                    <td>Broj dana za placanje: </td>
                    <td>
                        <input type="number" name="broj_dana" [(ngModel)]="broj_dana" required min="1">
                    </td>
                </tr>
                <tr>
                    <td>Procenat rabata: </td>
                    <td>
                        <input type="number" name="procenat_rabata" [(ngModel)]="procenat_rabata" min="0" max="100"
                            required>
                    </td>
                </tr>

                <tr>
                    <td>
                        <input #slikaUpload type="file" (change)="slikaDodata($event)"
                            accept="image/jpg, image/png, image/jpeg">
                    </td>
                    {{slikaPoruka}}
                    <img *ngIf="slikaSacuvana" [src]="putdoslike()" alt="Red dot" />
                </tr>
                <tr></tr>
                <tr>
                    <td colspan="3">
                        <button (click)="dodajNovog()">Dodaj narucioca</button>
                    </td>
                </tr>
            </table>
            <br>
            <output style="color:red">{{validacijaPoruka}}</output>
            <output style="color:green">{{porukaDodato}}</output>
        </mat-tab>
        <mat-tab label="Dodavanje putem pretrage">
            <table>
                <tr>
                    <td>PIB narucioca: </td>
                    <td>
                        <input type="text" name="trazeniPIB" [(ngModel)]="unetiPIB  ">
                    </td>
                    <td>
                        <button (click)="pretrazi()">Pretrazi</button>
                    </td>
                </tr>
                <tr>
                    <td>Pretrazeni narucioci: </td>
                    <td colspan="2">
                        <mat-form-field>
                            <mat-label>Narucilac</mat-label>
                            <mat-select [(ngModel)]="narucilac" class="selectMeni">
                                <mat-option *ngFor="let p of nadjeni" [value]="p">{{p.pib}} - {{p.naziv}}</mat-option>
                            </mat-select>
                        </mat-form-field>
                    </td>
                </tr>
                <tr>
                    <td>Broj dana za placanje: </td>
                    <td>
                        <input type="number" name="broj_dana" [(ngModel)]="broj_dana" required min="1">
                    </td>
                </tr>
                <tr>
                    <td>Procenat rabata: </td>
                    <td>
                        <input type="number" name="procenat_rabata" [(ngModel)]="procenat_rabata" min="0" max="100"
                            required>
                    </td>
                </tr>
                <tr>
                    <td colspan="3">
                        <button (click)="dodajPostojeceg()">Dodaj narucioca</button>
                    </td>
                </tr>
            </table>
            <br>
            <output style="color:green">{{porukaDodato}}</output>
        </mat-tab>
    </mat-tab-group>
</div>


<footer>
<button mat-raised-button (click)="povratak()">Povratak na pocetnu stranu</button>
</footer>